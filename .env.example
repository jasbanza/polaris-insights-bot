# Polaris Insights Bot - Environment Configuration Template
# Copy this file to .env and configure your settings

# =============================================================================
# REQUIRED SETTINGS - You must configure these
# =============================================================================

# Platform Configuration
# Set to 'telegram' for Telegram posting, 'twitter' for Twitter posting
PLATFORM_MODE=telegram

# Test Mode Configuration
# Set to 'true' to enable test mode (uses TELEGRAM_TEST_CHAT_ID or TWITTER_TEST_* credentials)
# Set to 'false' for production mode (uses TELEGRAM_CHAT_ID or TWITTER_* credentials)
TEST_MODE=true

# Telegram Bot Configuration (required when PLATFORM_MODE=telegram)
TELEGRAM_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_production_chat_id_here
TELEGRAM_TEST_CHAT_ID=your_test_chat_id_here
# Set to 'true' to disable web page previews in text messages
# Set to 'false' to enable web page previews (shows link previews)
TELEGRAM_DISABLE_WEB_PAGE_PREVIEW=true

# Twitter API Configuration (required when PLATFORM_MODE=twitter)
# Production credentials (used when TEST_MODE=false)
TWITTER_API_KEY=your_twitter_api_key_here
TWITTER_API_SECRET=your_twitter_api_secret_here
TWITTER_ACCESS_TOKEN=your_twitter_access_token_here
TWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret_here

# Multiple Test Twitter Accounts (used when TEST_MODE=true)
# Primary test account (required for Twitter test mode)
TWITTER_TEST_API_KEY=your_test_twitter_api_key_here
TWITTER_TEST_API_SECRET=your_test_twitter_api_secret_here
TWITTER_TEST_ACCESS_TOKEN=your_test_twitter_access_token_here
TWITTER_TEST_ACCESS_TOKEN_SECRET=your_test_twitter_access_token_secret_here

# Fallback test account #2 (optional - enables automatic fallback when rate limited)
TWITTER_TEST_2_API_KEY=your_test_2_twitter_api_key_here
TWITTER_TEST_2_API_SECRET=your_test_2_twitter_api_secret_here
TWITTER_TEST_2_ACCESS_TOKEN=your_test_2_twitter_access_token_here
TWITTER_TEST_2_ACCESS_TOKEN_SECRET=your_test_2_twitter_access_token_secret_here

# Fallback test account #3 (optional - additional fallback when multiple accounts rate limited)
TWITTER_TEST_3_API_KEY=your_test_3_twitter_api_key_here
TWITTER_TEST_3_API_SECRET=your_test_3_twitter_api_secret_here
TWITTER_TEST_3_ACCESS_TOKEN=your_test_3_twitter_access_token_here
TWITTER_TEST_3_ACCESS_TOKEN_SECRET=your_test_3_twitter_access_token_secret_here

# =============================================================================
# OPTIONAL SETTINGS - Configure as needed
# =============================================================================

# Twitter Posting Configuration
# Set to 'true' to post images with tweets, 'false' for text-only tweets
TWITTER_POST_IMAGES=true
# Set to 'true' to enable automatic fallback to alternate test accounts when rate limited
TWITTER_ENABLE_FALLBACK=true

# Polaris API Configuration (optional - defaults provided)
POLARIS_API_URL=https://api.polaris.app
POLARIS_INSIGHTS_URL=https://beta.polaris.app/insights/

# Bot Behavior Configuration
INSIGHTS_LIMIT=7
# Minimum age in minutes before processing new insights (prevents premature posting during editing)
MINIMUM_AGE_MINUTES=10
# Default background color when requested color not found in colors.json
DEFAULT_BACKGROUND_COLOR=gray-800

# =============================================================================
# IMAGE GENERATION SETTINGS
# =============================================================================

# Scale factor for foreground image (multiplied by image height)
# Examples: 0.5 = 50%, 0.7 = 70%, 0.8 = 80%, 1.0 = 100%
SCALE_FOREGROUND_IMAGE=0.8

# Overlay Configuration
# Set to 'true' to enable, 'false' to disable
OVERLAY_POLARIS_LOGO=true
OVERLAY_TOKEN_LOGO=true

# Token Image Styling
# Set to 'true' to make token images circular, 'false' for square
CIRCULAR_CLIP_TOKEN_LOGO=true

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Maximum number of processed insight IDs to keep in cache (prevents unlimited growth)
MAX_PROCESSED_IDS=200

# =============================================================================
# NOTES
# =============================================================================

# Multi-Account Twitter Fallback:
# - Configure TWITTER_TEST_2_* and TWITTER_TEST_3_* for redundancy
# - Bot automatically switches accounts when rate limits are hit
# - Requires TWITTER_ENABLE_FALLBACK=true to enable fallback functionality
# - Primary account is always tried first, fallbacks used only when needed
#
# Image Generation:
# - Creates 1200x630 OG images with overlays
# - Polaris logo: 80x80px, top-left, 40px margins
# - Token images: 80x80px, bottom-right, overlapping layout
# - Supports both colored backgrounds and image backgrounds
# 
# Test Mode:
# - Uses separate cache files (test_*.cache.json)
# - Telegram: Sends messages to TELEGRAM_TEST_CHAT_ID with ðŸ§ª [TEST] prefix
# - Twitter: Uses TWITTER_TEST_* credentials (no prefix to avoid character limit)
#
# Colors:
# - Background colors are defined in colors.json
# - Each color maps to RGB values for image generation
# - Fallback to DEFAULT_BACKGROUND_COLOR if color not found
#
# Rate Limiting:
# - System automatically checks Twitter rate limits before posting
# - Caches rate limit errors to avoid repeated API calls
# - Supports intelligent fallback between multiple Twitter accounts
# - Rate limit cache files created only when limits are hit
